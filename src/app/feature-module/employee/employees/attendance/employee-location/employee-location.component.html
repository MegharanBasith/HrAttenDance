
<div class="content container-fluid" style="padding-top: 0px;">
  <!-- Page Header -->
  <div class="page-header">
      <div class="row align-items-center">
        <div class="col">
          <h3 class="page-title">Employee Location</h3>
        </div>
        <div class="col-auto float-end ms-auto">
          <a (click)="createEmployeeLocation()" class="btn add-btn" data-bs-toggle="modal" data-bs-target="#add_employeeLocation"><i
          class="la la-plus-circle"></i>Create</a>
        </div>
      </div>
    </div>
  <!-- /Page Header -->
 
  <div class="row filter-row">
    <div class="col-sm-3">
        <div class="input-block mb-3 form-focus select-focus select">
            <mat-select [(value)]="employeeId" class="custom-mat-select floating-mat-select">
              <mat-option [value]="''">All</mat-option>
                <mat-option *ngFor="let employee of employeeDDL" [value]="employee.employeeId">
                    {{employee.name}}
                </mat-option>
            </mat-select>
            <label for="" class="focus-label">Select Employee</label>
        </div>
    </div>
    <div class="col-sm-3">
        <a class="btn btn-success w-100" (click)="getEmployeeLocation()">{{"Search"}}</a>
    </div>
  </div>
  <!----table----->
    <div class="row">
      <div class="col-md-12">
          <table class="table table-striped custom-table mb-0">
          <thead>
            <tr>
              <th>LocationID</th>
              <th>Employee Number</th>
              <th>Latitude & Longitude</th>
              <th>Distance</th>
              <th>Description</th>
              <th class="text-end">Action</th>
            </tr>
          </thead>
 
          <tbody>
            @for (item of allLocationList; track $index){
              <tr>
                <td>{{item?.id}}</td>
                <td>{{item?.employeeNumber}}</td>
                <td>{{item?.latLong}}</td>
                <td>{{item?.distance}}</td>
                <td>{{item?.description}}</td>
                <td class="text-end">
 
 
                  <div class="dropdown dropdown-action">
                    <a class="action-icon dropdown-toggle" data-bs-toggle="dropdown"
                      aria-expanded="false"><i class="material-icons">more_vert</i></a>
                      <div class="dropdown-menu dropdown-menu-right">
                        <a  class="dropdown-item" data-bs-toggle="modal"
                        data-bs-target="#delete_employeeLocation"  (click)="deleteAllowedLocationfromData(item)"><i class="fa-regular fa-trash-can m-r-5"></i>
                      Delete</a>
                      </div>
                    </div>
                    </td>
              </tr>
            }
          </tbody>
      </table>
  </div>
  </div>
 
  <!-----/table---->
 
 
  <div class="modal custom-modal fade" id="add_employeeLocation" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Add Location - Employee</h5>
          <button (click)="closepopup()" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form >
            <!-- <div class="input-block mb-3 form-focus select-focus select">
              <mat-select [(value)]="employeeLocationCreatingObj.clientId" class="custom-mat-select floating-mat-select">
                <mat-option *ngFor="let customer of customerDDL" [value]="customer">
                    {{customer}}
                </mat-option>
                </mat-select>
                <label for="" class="focus-label">Select Customer<span class="text-danger">*</span></label>
            </div> -->
            <div class="input-block mb-3 form-focus select-focus select">
              <mat-select [(value)]="employeeLocationCreatingObj.employeeERBId" class="custom-mat-select floating-mat-select">
                  <mat-option *ngFor="let employee of employeeDDL" [value]="employee.employeeId">
                      {{employee.name}}
                  </mat-option>
              </mat-select>
              <label for="" class="focus-label">Select Employee <span class="text-danger">*</span></label>
          </div>
            <div class="input-block mb-3  form-focus select-focus select">
              <mat-select [(value)]="employeeLocationCreatingObj.locationId" class="custom-mat-select floating-mat-select">
                <mat-option *ngFor="let location of allLocationddl "[value]="location.id">
                    {{location.id}} - {{location.description}}
                </mat-option>
            </mat-select>
            <label for="" class="focus-label">Select location<span class="text-danger">*</span></label>
            </div>
           
            <div class="submit-section">
              <button *ngIf="!onUpdate" (click)="submitPostLocationData()" class="btn btn-primary submit-btn" data-bs-dismiss="modal">Submit</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  </div>
  